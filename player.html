<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Player Proxy</title>
  <style>
    /* Make the iframe responsive */
    .video-container {
      position: relative;
      width: 100%;
      padding‑top: 56.25%; /* 16:9 aspect ratio */
    }
    .video-container iframe {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }
  </style>
</head>
<body>
  <div class="video-container" id="player‑container">
    <!-- Player will be injected here -->
  </div>

  <script>
    // Read video ID from query parameter
    const params = new URLSearchParams(window.location.search);
    const videoId = params.get('vid');

    if (!videoId) {
      document.getElementById('player‑container').innerHTML =
        '<p>Error: video id is missing.</p>';
    } else {
      const origin = window.location.origin;
      const iframe = document.createElement('iframe');
      iframe.src = `https://www.youtube‑nocookie.com/embed/${videoId}?enablejsapi=1&origin=${origin}`;
      iframe.allow = 'accelerometer; autoplay; clipboard‑write; encrypted‑media; gyroscope; picture-in-picture; web-share';
      iframe.allowFullscreen = true;

      document.getElementById('player‑container').appendChild(iframe);

      // Optionally: load the IFrame API if you need JS control
      const tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      document.head.appendChild(tag);

      let player;
      window.onYouTubeIframeAPIReady = function() {
        player = new YT.Player(iframe, {
          events: {
            onReady: (event) => {
              // e.g., event.target.playVideo();
            }
          }
        });
      };
    }
  </script>
</body>
</html>
